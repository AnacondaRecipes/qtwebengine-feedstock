From 0550ee322d339bf099d3de2412788cf55b303ed6 Mon Sep 17 00:00:00 2001
From: Rafael Martins <rmartins@anaconda.com>
Date: Tue, 16 Jul 2024 23:11:22 +0200
Subject: [PATCH 4/6] chromium: force settings to build without xcode.

these changes are needed to allow chromium to build without using xcode. the patch
tries to use information from environment variables as much as possible, but version
information is hardcoded. this patch must be upgraded when trying to build with a
different macos sdk version.
---
 .../src/3rdparty/chromium/build/config/mac/mac_sdk.gni     | 14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/src/3rdparty/chromium/build/config/mac/mac_sdk.gni b/src/3rdparty/chromium/build/config/mac/mac_sdk.gni
index 6ce9811..c53e84d 100644
--- a/src/3rdparty/chromium/build/config/mac/mac_sdk.gni
+++ b/src/3rdparty/chromium/build/config/mac/mac_sdk.gni
@@ -128,13 +128,13 @@ if (mac_use_xcode_symlinks) {
 }
 sdk_info_args += [ mac_sdk_name ]

-_mac_sdk_result = exec_script(script_name, sdk_info_args, "scope")
-xcode_version = _mac_sdk_result.xcode_version
-xcode_version_int = _mac_sdk_result.xcode_version_int
-xcode_build = _mac_sdk_result.xcode_build
-if (mac_sdk_path == "" && use_system_xcode && use_remoteexec) {
-  mac_sdk_path = _mac_sdk_result.sdk_path
-}
+#_mac_sdk_result = exec_script(script_name, sdk_info_args, "scope")
+xcode_version = "1500"
+xcode_version_int = 1500
+xcode_build = "22E245"
+#if (mac_sdk_path == "" && use_system_xcode && use_remoteexec) {
+#  mac_sdk_path = _mac_sdk_result.sdk_path
+#}

 if (use_system_xcode) {
   # The tool will print the SDK path on the first line, and the version on the
-- 
2.39.2 (Apple Git-143)

